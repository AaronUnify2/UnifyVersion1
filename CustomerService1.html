<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SDRC Customer Service Call Flow - New Hire Mode</title>
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'base',
            flowchart: {
                useMaxWidth: false,
                htmlLabels: true,
                curve: 'basis'
            },
            themeVariables: {
                primaryColor: '#e3f2fd',
                fontSize: '14px',
                fontFamily: 'Segoe UI, Arial, sans-serif'
            }
        });
    </script>
    <style>
        * { box-sizing: border-box; }
        body { font-family: 'Segoe UI', Arial, sans-serif; margin: 0; padding: 0; background-color: #f4f6f8; height: 100vh; display: flex; flex-direction: column; overflow: hidden; }
        header { background: #2c3e50; color: white; padding: 15px 30px; display: flex; justify-content: space-between; align-items: center; }
        .main-layout { display: flex; flex: 1; overflow: hidden; }
        .sidebar { width: 300px; background: white; border-right: 1px solid #e0e0e0; overflow-y: auto; padding: 20px; z-index: 10; }
        .sidebar-title { font-size: 14px; font-weight: 700; color: #34495e; text-transform: uppercase; margin-bottom: 15px; }
        .system-item { display: flex; align-items: baseline; margin-bottom: 12px; font-size: 13px; }
        .system-name { font-weight: 700; color: #2980b9; width: 85px; flex-shrink: 0; }
        .diagram-wrapper { flex: 1; position: relative; background-color: #f4f6f8; overflow: hidden; }
        .diagram-container { width: 100%; height: 100%; overflow: hidden; cursor: grab; display: flex; justify-content: center; }
        .controls-overlay { position: absolute; bottom: 30px; right: 30px; background: white; padding: 10px; border-radius: 50px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); display: flex; gap: 10px; z-index: 100; }
        .btn-zoom { width: 40px; height: 40px; border-radius: 50%; border: 1px solid #ddd; background: #fff; cursor: pointer; display: flex; align-items: center; justify-content: center; }
        .btn-zoom:hover { background: #2980b9; color: white; }
        .mermaid { transform-origin: top center; transition: transform 0.1s ease-out; padding: 50px; }
    </style>
</head>
<body>

    <header>
        <div><h1>SDRC Call Flow</h1></div>
        <div style="font-size: 13px;">Zoom: <span id="zoomLevel">100</span>%</div>
    </header>

    <div class="main-layout">
        <aside class="sidebar">
            <div class="sidebar-title">üîë Systems</div>
            <div class="system-item"><span class="system-name">Merit</span><span>CRM / Requests</span></div>
            <div class="system-item"><span class="system-name">TechOne</span><span>Finance & Property</span></div>
            <div class="system-item"><span class="system-name">Intramaps</span><span>GIS Mapping</span></div>
            <div class="system-item"><span class="system-name">Eli</span><span>Knowledge Base</span></div>
            <hr/>
            <div class="sidebar-title">üìû Hotlines</div>
            <div class="system-item"><span class="system-name">RSPCA</span><span>1300 264 625</span></div>
            <div class="system-item"><span class="system-name">TMR</span><span>13 20 80</span></div>
        </aside>

        <div class="diagram-wrapper">
            <div class="controls-overlay">
                <button class="btn-zoom" onclick="zoomIn()">Ôºã</button>
                <button class="btn-zoom" onclick="resetZoom()">‚ü≤</button>
                <button class="btn-zoom" onclick="zoomOut()">Ôºç</button>
            </div>
            <div class="diagram-container" id="diagramContainer">
                <div class="mermaid" id="mermaidDiagram">
flowchart TD
    Start([Incoming Call]) --> Greeting["<b>üó£Ô∏è GREETING</b><br/>'SDRC, this is [Name].<br/>How can I help you?'"]
    Greeting --> Verify["<b>üïµÔ∏è VERIFY</b><br/>1. Listen to reason<br/>2. Verify Identity"]
    Verify --> MainRoute{CATEGORY?}

    %% --- ANIMALS ---
    MainRoute --Animals--> AnimalSplit{Issue?}
    subgraph SG_Animals [üêï ANIMAL SERVICES]
        AnimalSplit --Lost--> Anim_L["<b>Lost/Found</b><br/>1. Log in S:\\ drive Register<br/>2. Notify CS Group"]
        AnimalSplit --Bark--> Anim_B["<b>Barking</b><br/>1. Merit 'Barking'<br/>2. Give Diary/Factsheet"]
        AnimalSplit --Attack--> Anim_A["<b>‚ö†Ô∏è ATTACK</b><br/>1. Check danger/location<br/>2. Merit 'Attack'<br/>3. Email Attack Form"]
    end

    %% --- PROPERTY ---
    MainRoute --Building--> Prop_B["<b>üèóÔ∏è BUILDING</b><br/><b>New:</b> Factsheets + Callback<br/><b>Existing:</b> Transfer or Merit"]
    MainRoute --Rates--> Prop_R["<b>üí∞ RATES</b><br/><b>Pay:</b> TechOne -> BPOINT<br/><b>Copy:</b> Payreq -> Email PDF"]

    %% --- WASTE ---
    MainRoute --Waste--> Waste_G["<b>üóëÔ∏è BINS</b><br/><b>Missed/Broken:</b> Lodge Cleanaway<br/><b>Public:</b> Check Intramaps"]

    %% --- GENERAL ---
    MainRoute --Other--> Gen_O["<b>‚òéÔ∏è TRANSFERS</b><br/>1. Search Pulse<br/>2. Warm Transfer<br/>3. If unavail: Merit"]

    %% --- TERMINATE ---
    Anim_L & Anim_B & Anim_A & Prop_B & Prop_R & Waste_G & Gen_O --> Close(["üëã CLOSE CALL"])
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentZoom = 85;
        let panX = 0;
        let panY = 0;
        
        function update() {
            const m = document.getElementById('mermaidDiagram');
            m.style.transform = `translate(${panX}px, ${panY}px) scale(${currentZoom / 100})`;
            document.getElementById('zoomLevel').textContent = currentZoom;
        }

        function zoomIn() { currentZoom += 10; update(); }
        function zoomOut() { currentZoom -= 10; update(); }
        function resetZoom() { currentZoom = 85; panX = 0; panY = 0; update(); }

        const cont = document.getElementById('diagramContainer');
        let dragging = false, startX, startY;

        cont.onmousedown = (e) => { dragging = true; startX = e.clientX - panX; startY = e.clientY - panY; };
        window.onmouseup = () => dragging = false;
        window.onmousemove = (e) => { if(dragging) { panX = e.clientX - startX; panY = e.clientY - startY; update(); } };
        
        // Initial set
        window.onload = () => update();
    </script>
</body>
</html>
