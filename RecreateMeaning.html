<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The Pixel Dispatch</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Courier+Prime:ital,wght@0,400;0,700;1,400&family=Lora:ital,wght@0,400;0,600;0,700;1,400&family=VT323&family=Special+Elite&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      background: #1a1a2e;
      color: #d4d4c1;
      font-family: 'Lora', Georgia, serif;
      min-height: 100vh;
    }
    ::selection { background: #e67e22; color: #1a1a2e; }
    a { color: #4a9aea; text-decoration: none; }
    a:hover { color: #e67e22; text-decoration: underline; }
    ::-webkit-scrollbar { width: 12px; }
    ::-webkit-scrollbar-track { background: #0f0f23; }
    ::-webkit-scrollbar-thumb { background: #333366; border-radius: 0; }
    ::-webkit-scrollbar-thumb:hover { background: #4a4a8a; }
    button { font-family: inherit; }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.9/babel.min.js"></script>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect, useCallback } = React;

    const SITE_NAME = "THE PIXEL DISPATCH";
    const SITE_TAGLINE = "Apps \u00b7 Articles \u00b7 Fiction \u00b7 Ideas";

    // --- MOCK DATA ---
    const PORTFOLIO_APPS = [
      {
        id: "weather-orb",
        title: "Weather Orb",
        tagline: "Ambient weather at a glance",
        description: "A minimal weather visualization that turns forecasts into living, breathing color orbs. No numbers, no clutter \u2014 just vibes.",
        instructions: [
          "Open the app and allow location access (or search manually).",
          "The orb color reflects temperature: cool blues \u2192 warm oranges \u2192 hot reds.",
          "Tap the orb to cycle through: current conditions \u2192 hourly \u2192 weekly.",
          "Swipe left/right to browse saved locations.",
          "Long-press to pin a location to your home screen widget.",
        ],
        tech: ["React", "OpenWeather API", "Canvas"],
        status: "Live",
        url: "#",
        color: "#4a90d9",
      },
      {
        id: "task-cascade",
        title: "Task Cascade",
        tagline: "Waterfalling your way to done",
        description: "A task manager that visualizes your to-do list as a waterfall \u2014 tasks flow from 'incoming' at the top to 'done' at the bottom. Drag to reprioritize, watch them cascade.",
        instructions: [
          "Create a new cascade (project) from the top menu.",
          "Add tasks using the '+' button or press 'N' for quick-add.",
          "Drag tasks between pools: Incoming \u2192 In Progress \u2192 Review \u2192 Done.",
          "Click any task to expand details, add notes, or set a due date.",
          "Use the 'Dam' feature to block tasks until dependencies are cleared.",
          "Export your cascade as a shareable PNG or CSV.",
        ],
        tech: ["Vue.js", "Supabase", "D3.js"],
        status: "Beta",
        url: "#",
        color: "#e67e22",
      },
      {
        id: "font-sommelier",
        title: "Font Sommelier",
        tagline: "Pairing fonts like fine wines",
        description: "Upload a screenshot of any design and Font Sommelier will identify the fonts used and suggest complementary pairings \u2014 complete with tasting notes.",
        instructions: [
          "Upload a screenshot, photo, or paste a URL on the main screen.",
          "The sommelier will analyze and identify visible fonts.",
          "Browse suggested pairings ranked by 'harmony score'.",
          "Click 'Taste' to preview any pairing with your own sample text.",
          "Save favorites to your 'Cellar' for later reference.",
          "Export pairing cards as images for your design system docs.",
        ],
        tech: ["Python", "TensorFlow", "Google Fonts API"],
        status: "Live",
        url: "#",
        color: "#8e44ad",
      },
    ];

    const ARTICLES = [
      {
        id: "attention-economy",
        title: "The Attention Economy Is a Slot Machine",
        subtitle: "And we're all out of quarters",
        date: "2025-02-10",
        category: "Tech & Society",
        readTime: "8 min",
        content: "There's a moment \u2014 you know the one \u2014 where you pick up your phone to check the time and surface 45 minutes later, thumb-deep in a thread about whether hot dogs are sandwiches.\n\nThis isn't an accident. It's architecture.\n\nThe attention economy doesn't just compete for your focus; it engineers the disappearance of the very moment where you might choose to look away. The scroll is infinite because the end of a feed is a decision point, and decision points are expensive.\n\nConsider the slot machine. It doesn't need you to win. It needs you to not-stop. The near-miss is more powerful than the jackpot because the jackpot ends the game. Social media learned this lesson and built it into everything: the almost-relevant recommendation, the notification that might be important, the red dot that could mean anything.\n\nWe talk about \u201cspending\u201d time online as if it were a conscious transaction. But spending implies a budget, a ledger, a moment of exchange. What actually happens is closer to evaporation. The time doesn't go somewhere \u2014 it just ceases to be yours.\n\nThe question isn't whether this is bad. Of course it is. The question is: what would it look like to build technology that gives time back instead of taking it? What would an app look like if its success metric was \u201cthe user closed this quickly and went to do something they care about\u201d?\n\nI don't have the answer. But I think the question is worth more than another 45 minutes of scrolling.",
        interactive: true,
        interactiveNote: "Try closing this article right now. Set a timer. See how long before you open something else.",
      },
      {
        id: "color-of-sound",
        title: "What Color Is Middle C?",
        subtitle: "A synesthete's guide to the visible spectrum of music",
        date: "2025-01-22",
        category: "Science & Perception",
        readTime: "12 min",
        content: "For about 4% of the population, the question \u201cwhat color is that note?\u201d isn't poetic \u2014 it's literal. Synesthesia, the neurological phenomenon where one sense triggers another, turns music into a light show that only you can see.\n\nI've been mapping my own chromatic responses to musical notes for three years now. Middle C has always been a warm amber \u2014 not quite gold, not quite orange, but the exact color of late afternoon sunlight through a jar of honey.\n\nF# is violet. Always has been. G is green, but specifically the green of new grass, not forest green. B-flat is the hardest to describe: it's like looking at deep water where you can't tell if it's blue or black.\n\nThe fascinating thing isn't that these associations exist \u2014 it's that they're remarkably consistent. Test me today, test me in six months, the colors barely shift. My brain has a lookup table, and it's been compiled.\n\nResearchers at the University of Sussex found that synesthetes don't just \u201csee\u201d colors when they hear notes \u2014 the visual cortex actually activates. It's not imagination or metaphor. The wires are literally crossed, and the result is a richer, stranger experience of something as universal as music.\n\nBut here's what keeps me up at night: what if everyone's brain does this, just below the threshold of consciousness? What if the reason certain chord progressions feel \u201cbright\u201d or \u201cdark\u201d isn't purely learned \u2014 but is a shadow of synesthetic processing that most people can't quite access?\n\nMusic might be more colorful than any of us realize.",
        interactive: true,
        interactiveNote: "Play a note on any instrument near you. Before thinking \u2014 what color flashed in your mind? Write it down.",
      },
      {
        id: "urban-fungi",
        title: "The City Beneath the City",
        subtitle: "How fungal networks are quietly running urban ecosystems",
        date: "2025-01-05",
        category: "Nature & Cities",
        readTime: "10 min",
        content: "Beneath every sidewalk crack where a dandelion pushes through, there's an empire. Not of roots \u2014 of fungi.\n\nMycorrhizal networks \u2014 the so-called \u201cwood wide web\u201d \u2014 aren't just a forest thing. Urban ecologists are increasingly finding that cities have their own fungal infrastructure, and it's doing more work than anyone expected.\n\nPark trees in Manhattan share nutrients through underground fungal highways. Street trees in London are connected to each other across entire blocks. That scraggly tree outside your apartment? It's probably networking harder than you are.\n\nThe implications are wild. When a city plants a new tree, its survival rate nearly doubles if it can tap into an existing fungal network. The fungi don't just deliver nutrients \u2014 they transmit chemical warning signals about pests, share water during drought, and even seem to preferentially support younger, weaker trees.\n\nUrban planners are starting to pay attention. A few forward-thinking cities are now mapping their underground fungal networks before breaking ground on new construction. The idea is radical but simple: if you wouldn't build a highway through a hospital, maybe don't build a parking garage through the network keeping your urban forest alive.\n\nThe city beneath the city doesn't vote, doesn't pay taxes, and doesn't show up on any zoning map. But it might be the most important infrastructure we have.",
        interactive: false,
      },
    ];

    const NOVEL = {
      title: "SIGNAL LOSS",
      author: "You",
      genre: "Speculative Fiction",
      synopsis: "In a world where memories can be broadcast and received like radio signals, a woman discovers she's been picking up transmissions from someone who hasn't been born yet.",
      chapters: [
        {
          number: 1,
          title: "Static",
          content: "The first time it happened, Maya thought it was a migraine.\n\nShe was standing in the cereal aisle of the Kroger on Fifth, reaching for a box of something with too much sugar and not enough fiber, when a memory hit her that wasn't hers.\n\nNot a thought. Not a daydream. A memory \u2014 complete with the weight of lived experience, the texture of having-been-there. She was standing on a beach she'd never visited, watching a sunset she'd never seen, feeling a grief she'd never earned. The sand was black. The sky was the color of a bruise healing.\n\nIt lasted four seconds.\n\nThen she was back in the cereal aisle, hand still extended, a box of Honey Nut Cheerios somehow in her grip, and a woman behind her was asking if she was alright.\n\n\u201cFine,\u201d Maya said, which was a lie, but it was the kind of lie that keeps grocery stores functioning.\n\nShe paid for the cereal. She drove home. She sat on her couch and stared at the wall for twenty minutes.\n\nThen she opened her laptop and typed: \u201cCan you receive someone else's memories?\u201d\n\nGoogle, helpful as always, suggested she might be experiencing dissociative episodes, past-life regression, or the early symptoms of a brain tumor. WebMD agreed on the tumor. Reddit suggested she was a main character.\n\nNone of them mentioned the possibility that she was picking up a signal.\n\nThat part, she'd figure out on her own.",
        },
        {
          number: 2,
          title: "Frequency",
          content: "The second transmission came three days later, in the shower.\n\nThis time it was longer \u2014 maybe ten seconds \u2014 and clearer. She was in a room she didn't recognize, all white walls and soft lighting, and she was looking at her hands. Except they weren't her hands. They were smaller, younger, with nails bitten to the quick and a scar across the left index finger she'd never received.\n\nSomeone was talking to her \u2014 to whoever these hands belonged to \u2014 in a language she almost understood. Not quite English. Not quite anything else. Like English that had kept evolving for another fifty years.\n\nThe voice said something that translated roughly to: \u201cYou need to stop reaching back. It's not safe.\u201d\n\nThen the water was too hot and she was back in her shower in her apartment in her city in her year, gasping.\n\nMaya was thirty-two years old. She was a sound engineer at a mid-size podcast studio. She was not, by any reasonable measure, the kind of person to whom extraordinary things happened. She paid her taxes quarterly. She owned a reasonable number of houseplants. She had a 401(k).\n\nPeople with 401(k)s do not receive psychic transmissions from the future.\n\nAnd yet.\n\nShe started keeping a notebook. Date, time, duration, content. She was an engineer \u2014 if this was a signal, it had a pattern, and patterns could be decoded.\n\nEntry one: Beach. Black sand. Grief. 4 seconds.\nEntry two: White room. Young hands. Warning. 10 seconds.\n\nTwo data points is not a pattern. But Maya was patient, and the signal, it turned out, was persistent.",
        },
        {
          number: 3,
          title: "Noise Floor",
          content: "By the end of the month, she had fourteen entries.\n\nThe transmissions were getting longer and more vivid. Entry seven was a full thirty seconds of walking through a market that sold things she couldn't name \u2014 objects that looked like fruit but behaved like machines, tools that seemed grown rather than manufactured. Entry eleven was a conversation, both sides audible, about something called \u201ctemporal bleed\u201d spoken in that same almost-English.\n\nEntry thirteen was the one that scared her.\n\nIn it, she saw herself. Or rather, she saw a photograph of herself \u2014 her current self, thirty-two, standing in what was unmistakably her apartment \u2014 displayed on a device she didn't recognize. Someone was pointing at the photo and saying, in perfect present-day English: \u201cThis is her. This is the anchor point.\u201d\n\nMaya had worked in audio long enough to know the difference between signal and noise. Noise is random. It doesn't repeat, doesn't cohere, doesn't build a narrative. Signal does.\n\nThis was signal.\n\nShe needed help \u2014 the kind of help that doesn't exist in the yellow pages. She needed someone who would take \u201cI'm receiving memories from the future\u201d seriously without immediately recommending medication.\n\nShe found Dr. Lena Vasquez on page forty-seven of a forum dedicated to \u201canomalous cognitive experiences.\u201d Vasquez was a neuroscientist at Columbia who had published exactly one paper on what she called \u201cnon-local memory phenomena\u201d before the academic community had politely suggested she pursue other interests.\n\nMaya sent her an email with the subject line: \u201cI think I'm picking up someone else's signal.\u201d\n\nVasquez replied in eleven minutes: \u201cWhen can you come in?\u201d",
        },
      ],
    };

    const VISITOR_COUNT = "004,721";

    // --- COMPONENTS ---

    function Header({ currentPage, setPage }) {
      const [time, setTime] = useState(new Date());

      useEffect(() => {
        const t = setInterval(() => setTime(new Date()), 1000);
        return () => clearInterval(t);
      }, []);

      const navItems = [
        { id: "home", label: "Home" },
        { id: "portfolio", label: "Apps" },
        { id: "articles", label: "Articles" },
        { id: "novel", label: "Novel" },
        { id: "about", label: "About" },
      ];

      return (
        <header style={{
          background: "linear-gradient(180deg, #0f0f23 0%, #1a1a2e 100%)",
          borderBottom: "2px solid #333366",
          padding: "0",
          position: "sticky",
          top: 0,
          zIndex: 100,
        }}>
          <div style={{
            background: "#0a0a1a",
            padding: "4px 20px",
            display: "flex",
            justifyContent: "space-between",
            alignItems: "center",
            fontSize: "12px",
            fontFamily: "'VT323', monospace",
            color: "#666680",
            borderBottom: "1px solid #222244",
            letterSpacing: "1px",
          }}>
            <span>EST. 2025 — ISSUE #042</span>
            <span>{time.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })} — {time.toLocaleTimeString()}</span>
          </div>
          
          <div style={{ padding: "20px 20px 0", textAlign: "center" }}>
            <div onClick={() => setPage("home")} style={{ cursor: "pointer", display: "inline-block" }}>
              <h1 style={{
                fontFamily: "'Special Elite', 'Courier Prime', monospace",
                fontSize: "clamp(28px, 5vw, 52px)",
                color: "#e8e8d0",
                letterSpacing: "6px",
                textTransform: "uppercase",
                lineHeight: 1.1,
                textShadow: "2px 2px 0 #333366",
              }}>{SITE_NAME}</h1>
              <div style={{
                fontFamily: "'VT323', monospace",
                fontSize: "14px",
                color: "#888880",
                letterSpacing: "8px",
                textTransform: "uppercase",
                marginTop: "4px",
              }}>{SITE_TAGLINE}</div>
            </div>
            
            <div style={{
              margin: "16px auto 0",
              maxWidth: "600px",
              display: "flex",
              alignItems: "center",
              gap: "12px",
            }}>
              <div style={{ flex: 1, height: "1px", background: "#333366" }} />
              <div style={{ color: "#4a4a8a", fontFamily: "'VT323', monospace", fontSize: "18px" }}>{"\u25C6 \u25C7 \u25C6"}</div>
              <div style={{ flex: 1, height: "1px", background: "#333366" }} />
            </div>
          </div>

          <nav style={{ display: "flex", justifyContent: "center", gap: "0", padding: "12px 20px 0", flexWrap: "wrap" }}>
            {navItems.map((item) => (
              <button
                key={item.id}
                onClick={() => setPage(item.id)}
                style={{
                  background: currentPage === item.id ? "#333366" : "transparent",
                  color: currentPage === item.id ? "#e8e8d0" : "#888880",
                  border: "1px solid #333366",
                  borderBottom: currentPage === item.id ? "1px solid #333366" : "1px solid transparent",
                  padding: "8px 24px",
                  fontFamily: "'Courier Prime', monospace",
                  fontSize: "13px",
                  letterSpacing: "2px",
                  textTransform: "uppercase",
                  cursor: "pointer",
                  transition: "all 0.15s ease",
                  marginBottom: "-1px",
                }}
                onMouseEnter={(e) => {
                  if (currentPage !== item.id) {
                    e.target.style.color = "#e8e8d0";
                    e.target.style.background = "#222244";
                  }
                }}
                onMouseLeave={(e) => {
                  if (currentPage !== item.id) {
                    e.target.style.color = "#888880";
                    e.target.style.background = "transparent";
                  }
                }}
              >{item.label}</button>
            ))}
          </nav>
        </header>
      );
    }

    function Sidebar() {
      return (
        <aside style={{ width: "240px", flexShrink: 0, display: "flex", flexDirection: "column", gap: "20px" }}>
          <div style={{ border: "1px solid #333366", padding: "16px", textAlign: "center", background: "#0f0f23" }}>
            <div style={{ fontFamily: "'VT323', monospace", fontSize: "12px", color: "#666680", letterSpacing: "2px", textTransform: "uppercase", marginBottom: "8px" }}>Visitors</div>
            <div style={{ fontFamily: "'VT323', monospace", fontSize: "32px", color: "#4a9aea", background: "#000010", padding: "8px", border: "1px inset #222244", letterSpacing: "4px" }}>{VISITOR_COUNT}</div>
            <div style={{ fontFamily: "'VT323', monospace", fontSize: "11px", color: "#555560", marginTop: "6px" }}>since jan 2025</div>
          </div>

          <div style={{ border: "1px solid #333366", padding: "16px", background: "#0f0f23" }}>
            <h3 style={{ fontFamily: "'Special Elite', monospace", fontSize: "14px", color: "#e67e22", letterSpacing: "2px", textTransform: "uppercase", marginBottom: "12px", paddingBottom: "8px", borderBottom: "1px dashed #333366" }}>Latest Updates</h3>
            <ul style={{ listStyle: "none", display: "flex", flexDirection: "column", gap: "10px" }}>
              {[
                { date: "Feb 10", text: "New article: Attention Economy" },
                { date: "Feb 03", text: "Font Sommelier v2.1 released" },
                { date: "Jan 22", text: "Synesthesia article published" },
                { date: "Jan 15", text: "Novel Ch.3 is up!" },
              ].map((item, i) => (
                <li key={i} style={{ fontSize: "13px", lineHeight: 1.4 }}>
                  <span style={{ fontFamily: "'VT323', monospace", color: "#4a4a8a", fontSize: "12px" }}>[{item.date}]</span>
                  <br />
                  <span style={{ color: "#b0b0a0" }}>{item.text}</span>
                </li>
              ))}
            </ul>
          </div>

          <div style={{ border: "1px solid #333366", padding: "16px", background: "#0f0f23", textAlign: "center" }}>
            <h3 style={{ fontFamily: "'Special Elite', monospace", fontSize: "14px", color: "#e67e22", letterSpacing: "2px", textTransform: "uppercase", marginBottom: "12px", paddingBottom: "8px", borderBottom: "1px dashed #333366" }}>Cool Links</h3>
            <div style={{ display: "flex", flexDirection: "column", gap: "6px" }}>
              {["[RSS Feed]", "[Email List]", "[Source Code]", "[Guestbook]"].map((link, i) => (
                <a key={i} href="#" style={{ fontFamily: "'VT323', monospace", fontSize: "16px", color: "#4a9aea", display: "block" }}>{link}</a>
              ))}
            </div>
            <div style={{ marginTop: "16px", display: "flex", flexDirection: "column", alignItems: "center", gap: "8px" }}>
              <div style={{ background: "#222244", border: "1px solid #4a4a8a", padding: "4px 12px", fontFamily: "'VT323', monospace", fontSize: "13px", color: "#4a9aea" }}>{"MADE WITH \u2665 & COFFEE"}</div>
              <div style={{ background: "#1a3a1a", border: "1px solid #2a5a2a", padding: "4px 12px", fontFamily: "'VT323', monospace", fontSize: "13px", color: "#4a9a4a" }}>BEST VIEWED IN ANY BROWSER</div>
              <div style={{ background: "#3a2a1a", border: "1px solid #5a4a2a", padding: "4px 12px", fontFamily: "'VT323', monospace", fontSize: "13px", color: "#e67e22" }}>{"NO TRACKING \u00b7 NO ADS"}</div>
            </div>
          </div>
        </aside>
      );
    }

    function SectionHeader({ title, subtitle }) {
      return (
        <div style={{ marginBottom: "24px" }}>
          <h2 style={{ fontFamily: "'Special Elite', monospace", fontSize: "28px", color: "#e8e8d0", letterSpacing: "3px", textTransform: "uppercase" }}>{title}</h2>
          {subtitle && <p style={{ fontFamily: "'Courier Prime', monospace", fontSize: "14px", color: "#666680", marginTop: "4px", fontStyle: "italic" }}>{subtitle}</p>}
          <div style={{ width: "60px", height: "2px", background: "#e67e22", marginTop: "12px" }} />
        </div>
      );
    }

    // --- PAGES ---

    function HomePage({ setPage, setSelectedApp, setSelectedArticle, setSelectedChapter }) {
      return (
        <div style={{ display: "flex", flexDirection: "column", gap: "32px" }}>
          <div style={{
            border: "2px solid #e67e22",
            padding: "32px",
            background: "linear-gradient(135deg, #1a1a2e 0%, #222244 100%)",
            position: "relative",
            overflow: "hidden",
          }}>
            <div style={{
              position: "absolute", top: "10px", right: "12px",
              fontFamily: "'VT323', monospace", fontSize: "12px", color: "#e67e22",
              letterSpacing: "2px", textTransform: "uppercase",
              background: "#1a1a2e", padding: "2px 8px", border: "1px solid #e67e22",
            }}>{"\u2605 Featured"}</div>
            <div style={{ fontFamily: "'VT323', monospace", fontSize: "13px", color: "#666680", letterSpacing: "2px", textTransform: "uppercase", marginBottom: "8px" }}>Latest Chapter</div>
            <h2 style={{ fontFamily: "'Special Elite', monospace", fontSize: "32px", color: "#e8e8d0", marginBottom: "8px" }}>{"Signal Loss \u2014 Ch. 3: \u201cNoise Floor\u201d"}</h2>
            <p style={{ fontFamily: "'Lora', serif", fontSize: "16px", color: "#a0a090", lineHeight: 1.6, maxWidth: "600px", marginBottom: "16px", fontStyle: "italic" }}>
              {"\u201cMaya had worked in audio long enough to know the difference between signal and noise. Noise is random. Signal doesn't just repeat \u2014 it builds...\u201d"}
            </p>
            <button
              onClick={() => { setSelectedChapter(2); setPage("novel"); }}
              style={{
                background: "#e67e22", color: "#1a1a2e", border: "none",
                padding: "10px 24px", fontFamily: "'Courier Prime', monospace",
                fontSize: "14px", fontWeight: "bold", letterSpacing: "1px",
                cursor: "pointer", textTransform: "uppercase",
              }}
              onMouseEnter={e => e.target.style.background = "#f39c12"}
              onMouseLeave={e => e.target.style.background = "#e67e22"}
            >{"Read Chapter \u2192"}</button>
          </div>

          <div style={{ display: "grid", gridTemplateColumns: "1fr 1fr", gap: "24px" }}>
            <div>
              <SectionHeader title="Recent Articles" />
              <div style={{ display: "flex", flexDirection: "column", gap: "16px" }}>
                {ARTICLES.slice(0, 3).map((article) => (
                  <div key={article.id}
                    onClick={() => { setSelectedArticle(article.id); setPage("articles"); }}
                    style={{ border: "1px solid #333366", padding: "16px", cursor: "pointer", background: "#0f0f23", transition: "border-color 0.2s" }}
                    onMouseEnter={e => e.currentTarget.style.borderColor = "#4a9aea"}
                    onMouseLeave={e => e.currentTarget.style.borderColor = "#333366"}
                  >
                    <div style={{ fontFamily: "'VT323', monospace", fontSize: "12px", color: "#4a4a8a", letterSpacing: "1px", marginBottom: "4px" }}>{article.category} {"\u00b7"} {article.readTime}</div>
                    <h3 style={{ fontFamily: "'Special Elite', monospace", fontSize: "18px", color: "#e8e8d0", marginBottom: "4px" }}>{article.title}</h3>
                    <p style={{ fontSize: "13px", color: "#888880", fontStyle: "italic" }}>{article.subtitle}</p>
                  </div>
                ))}
              </div>
            </div>

            <div>
              <SectionHeader title="App Spotlight" />
              <div style={{ display: "flex", flexDirection: "column", gap: "16px" }}>
                {PORTFOLIO_APPS.map((app) => (
                  <div key={app.id}
                    onClick={() => { setSelectedApp(app.id); setPage("portfolio"); }}
                    style={{ border: "1px solid #333366", padding: "16px", cursor: "pointer", background: "#0f0f23", display: "flex", gap: "16px", alignItems: "flex-start", transition: "border-color 0.2s" }}
                    onMouseEnter={e => e.currentTarget.style.borderColor = app.color}
                    onMouseLeave={e => e.currentTarget.style.borderColor = "#333366"}
                  >
                    <div style={{
                      width: "48px", height: "48px", background: app.color + "22",
                      border: "2px solid " + app.color, display: "flex", alignItems: "center",
                      justifyContent: "center", fontFamily: "'VT323', monospace",
                      fontSize: "24px", color: app.color, flexShrink: 0,
                    }}>{app.title[0]}</div>
                    <div>
                      <h3 style={{ fontFamily: "'Special Elite', monospace", fontSize: "17px", color: "#e8e8d0" }}>{app.title}</h3>
                      <p style={{ fontSize: "13px", color: "#888880", marginTop: "2px" }}>{app.tagline}</p>
                      <span style={{
                        display: "inline-block", marginTop: "6px",
                        fontFamily: "'VT323', monospace", fontSize: "12px",
                        color: app.status === "Live" ? "#4a9a4a" : "#e67e22",
                        background: app.status === "Live" ? "#1a3a1a" : "#3a2a1a",
                        padding: "2px 8px",
                        border: "1px solid " + (app.status === "Live" ? "#2a5a2a" : "#5a4a2a"),
                      }}>{app.status}</span>
                    </div>
                  </div>
                ))}
              </div>
            </div>
          </div>

          <div style={{
            border: "1px dashed #333366", padding: "12px 20px",
            fontFamily: "'VT323', monospace", fontSize: "16px",
            color: "#666680", textAlign: "center", letterSpacing: "1px",
          }}>
            {"\u2726 Now accepting guest articles! Send your pitches to "}<span style={{ color: "#4a9aea" }}>submissions@pixeldispatch.net</span>{" \u2726"}
          </div>
        </div>
      );
    }

    function PortfolioPage({ selectedApp, setSelectedApp }) {
      const app = selectedApp ? PORTFOLIO_APPS.find(a => a.id === selectedApp) : null;

      if (app) {
        return (
          <div>
            <button onClick={() => setSelectedApp(null)}
              style={{ background: "none", border: "none", color: "#4a9aea", fontFamily: "'Courier Prime', monospace", fontSize: "14px", cursor: "pointer", marginBottom: "20px", padding: 0 }}
            >{"\u2190 Back to all apps"}</button>

            <div style={{ border: "2px solid " + app.color, padding: "32px", background: "#0f0f23" }}>
              <div style={{ display: "flex", gap: "20px", alignItems: "flex-start", marginBottom: "24px" }}>
                <div style={{
                  width: "80px", height: "80px", background: app.color + "22",
                  border: "3px solid " + app.color, display: "flex", alignItems: "center",
                  justifyContent: "center", fontFamily: "'VT323', monospace",
                  fontSize: "42px", color: app.color, flexShrink: 0,
                }}>{app.title[0]}</div>
                <div>
                  <h2 style={{ fontFamily: "'Special Elite', monospace", fontSize: "32px", color: "#e8e8d0" }}>{app.title}</h2>
                  <p style={{ fontFamily: "'Courier Prime', monospace", fontSize: "16px", color: app.color, fontStyle: "italic" }}>{app.tagline}</p>
                  <div style={{ display: "flex", gap: "8px", marginTop: "8px", flexWrap: "wrap" }}>
                    {app.tech.map(t => (
                      <span key={t} style={{ fontFamily: "'VT323', monospace", fontSize: "14px", color: "#888880", background: "#1a1a2e", padding: "2px 10px", border: "1px solid #333366" }}>{t}</span>
                    ))}
                    <span style={{
                      fontFamily: "'VT323', monospace", fontSize: "14px",
                      color: app.status === "Live" ? "#4a9a4a" : "#e67e22",
                      background: app.status === "Live" ? "#1a3a1a" : "#3a2a1a",
                      padding: "2px 10px",
                      border: "1px solid " + (app.status === "Live" ? "#2a5a2a" : "#5a4a2a"),
                    }}>{app.status}</span>
                  </div>
                </div>
              </div>

              <div style={{ borderTop: "1px solid #333366", paddingTop: "20px", marginBottom: "24px" }}>
                <h3 style={{ fontFamily: "'Special Elite', monospace", fontSize: "18px", color: "#e67e22", letterSpacing: "2px", textTransform: "uppercase", marginBottom: "12px" }}>About</h3>
                <p style={{ fontSize: "16px", lineHeight: 1.8, color: "#c0c0b0" }}>{app.description}</p>
              </div>

              <div style={{
                background: "#12122a", margin: "0 -32px -32px",
                padding: "24px 32px 32px", borderTop: "2px dashed #333366",
              }}>
                <h3 style={{ fontFamily: "'Special Elite', monospace", fontSize: "18px", color: "#e67e22", letterSpacing: "2px", textTransform: "uppercase", marginBottom: "16px" }}>{"\uD83D\uDCD6 How to Use"}</h3>
                <div style={{ display: "flex", flexDirection: "column", gap: "12px" }}>
                  {app.instructions.map((step, i) => (
                    <div key={i} style={{ display: "flex", gap: "12px", alignItems: "flex-start" }}>
                      <div style={{ fontFamily: "'VT323', monospace", fontSize: "22px", color: app.color, width: "30px", textAlign: "center", flexShrink: 0, lineHeight: "24px" }}>{i + 1}.</div>
                      <p style={{ fontSize: "15px", lineHeight: 1.6, color: "#b0b0a0" }}>{step}</p>
                    </div>
                  ))}
                </div>
                <div style={{ marginTop: "24px", textAlign: "center" }}>
                  <a href={app.url} style={{
                    display: "inline-block", background: app.color, color: "#fff",
                    padding: "12px 32px", fontFamily: "'Courier Prime', monospace",
                    fontSize: "14px", fontWeight: "bold", letterSpacing: "2px",
                    textTransform: "uppercase", textDecoration: "none",
                  }}>{"Launch App \u2192"}</a>
                </div>
              </div>
            </div>
          </div>
        );
      }

      return (
        <div>
          <SectionHeader title="Web Apps" subtitle="Things I've built \u2014 click any app for details and instructions" />
          <div style={{ display: "flex", flexDirection: "column", gap: "20px" }}>
            {PORTFOLIO_APPS.map((app) => (
              <div key={app.id}
                onClick={() => setSelectedApp(app.id)}
                style={{
                  border: "1px solid #333366", padding: "24px", cursor: "pointer",
                  background: "#0f0f23", display: "flex", gap: "20px",
                  alignItems: "flex-start", transition: "all 0.2s",
                }}
                onMouseEnter={e => { e.currentTarget.style.borderColor = app.color; e.currentTarget.style.transform = "translateX(4px)"; }}
                onMouseLeave={e => { e.currentTarget.style.borderColor = "#333366"; e.currentTarget.style.transform = "translateX(0)"; }}
              >
                <div style={{
                  width: "64px", height: "64px", background: app.color + "22",
                  border: "2px solid " + app.color, display: "flex", alignItems: "center",
                  justifyContent: "center", fontFamily: "'VT323', monospace",
                  fontSize: "34px", color: app.color, flexShrink: 0,
                }}>{app.title[0]}</div>
                <div style={{ flex: 1 }}>
                  <div style={{ display: "flex", alignItems: "baseline", gap: "12px", marginBottom: "4px" }}>
                    <h3 style={{ fontFamily: "'Special Elite', monospace", fontSize: "22px", color: "#e8e8d0" }}>{app.title}</h3>
                    <span style={{ fontFamily: "'Courier Prime', monospace", fontSize: "14px", color: "#666680", fontStyle: "italic" }}>{"\u2014 " + app.tagline}</span>
                  </div>
                  <p style={{ fontSize: "15px", lineHeight: 1.6, color: "#a0a090", marginBottom: "8px" }}>{app.description}</p>
                  <div style={{ display: "flex", gap: "6px", flexWrap: "wrap" }}>
                    {app.tech.map(t => (
                      <span key={t} style={{ fontFamily: "'VT323', monospace", fontSize: "13px", color: "#666680", background: "#1a1a2e", padding: "1px 8px", border: "1px solid #282848" }}>{t}</span>
                    ))}
                  </div>
                </div>
                <div style={{ fontFamily: "'VT323', monospace", fontSize: "24px", color: "#333366", alignSelf: "center" }}>{"\u2192"}</div>
              </div>
            ))}
          </div>
        </div>
      );
    }

    function ArticlesPage({ selectedArticle, setSelectedArticle }) {
      const article = selectedArticle ? ARTICLES.find(a => a.id === selectedArticle) : null;

      if (article) {
        const idx = ARTICLES.findIndex(a => a.id === article.id);
        const prev = idx > 0 ? ARTICLES[idx - 1] : null;
        const next = idx < ARTICLES.length - 1 ? ARTICLES[idx + 1] : null;

        return (
          <div>
            <button onClick={() => setSelectedArticle(null)}
              style={{ background: "none", border: "none", color: "#4a9aea", fontFamily: "'Courier Prime', monospace", fontSize: "14px", cursor: "pointer", marginBottom: "20px", padding: 0 }}
            >{"\u2190 Back to all articles"}</button>

            <article style={{ border: "1px solid #333366", background: "#0f0f23", padding: "40px", maxWidth: "720px" }}>
              <div style={{ fontFamily: "'VT323', monospace", fontSize: "13px", color: "#4a4a8a", letterSpacing: "2px", marginBottom: "8px" }}>
                {article.category} {"\u00b7"} {article.readTime} {"\u00b7"} {new Date(article.date).toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' })}
              </div>
              <h2 style={{ fontFamily: "'Special Elite', monospace", fontSize: "34px", color: "#e8e8d0", lineHeight: 1.2, marginBottom: "6px" }}>{article.title}</h2>
              <p style={{ fontFamily: "'Courier Prime', monospace", fontSize: "16px", color: "#888880", fontStyle: "italic", marginBottom: "24px" }}>{article.subtitle}</p>
              <div style={{ width: "40px", height: "2px", background: "#e67e22", marginBottom: "28px" }} />

              {article.content.split("\n\n").map((para, i) => (
                <p key={i} style={{ fontSize: "16px", lineHeight: 1.9, color: "#c8c8b8", marginBottom: "20px", textIndent: i > 0 ? "2em" : "0" }}>{para}</p>
              ))}

              {article.interactive && (
                <div style={{ marginTop: "32px", border: "2px dashed #e67e22", padding: "20px", background: "#1a1520" }}>
                  <div style={{ fontFamily: "'VT323', monospace", fontSize: "16px", color: "#e67e22", letterSpacing: "2px", textTransform: "uppercase", marginBottom: "8px" }}>{"\u26A1 Interactive Element"}</div>
                  <p style={{ fontFamily: "'Lora', serif", fontSize: "15px", color: "#c0b0a0", fontStyle: "italic", lineHeight: 1.6 }}>{article.interactiveNote}</p>
                </div>
              )}
            </article>

            <div style={{ display: "flex", justifyContent: "space-between", marginTop: "24px", gap: "16px" }}>
              {prev ? (
                <button onClick={() => setSelectedArticle(prev.id)}
                  style={{ background: "#0f0f23", border: "1px solid #333366", padding: "12px 20px", cursor: "pointer", textAlign: "left", flex: 1 }}
                  onMouseEnter={e => e.currentTarget.style.borderColor = "#4a9aea"}
                  onMouseLeave={e => e.currentTarget.style.borderColor = "#333366"}
                >
                  <div style={{ fontFamily: "'VT323', monospace", fontSize: "12px", color: "#666680" }}>{"\u2190 Previous"}</div>
                  <div style={{ fontFamily: "'Special Elite', monospace", fontSize: "15px", color: "#e8e8d0", marginTop: "4px" }}>{prev.title}</div>
                </button>
              ) : <div style={{ flex: 1 }} />}
              {next ? (
                <button onClick={() => setSelectedArticle(next.id)}
                  style={{ background: "#0f0f23", border: "1px solid #333366", padding: "12px 20px", cursor: "pointer", textAlign: "right", flex: 1 }}
                  onMouseEnter={e => e.currentTarget.style.borderColor = "#4a9aea"}
                  onMouseLeave={e => e.currentTarget.style.borderColor = "#333366"}
                >
                  <div style={{ fontFamily: "'VT323', monospace", fontSize: "12px", color: "#666680" }}>{"\u2192 Next"}</div>
                  <div style={{ fontFamily: "'Special Elite', monospace", fontSize: "15px", color: "#e8e8d0", marginTop: "4px" }}>{next.title}</div>
                </button>
              ) : <div style={{ flex: 1 }} />}
            </div>
          </div>
        );
      }

      return (
        <div>
          <SectionHeader title="Articles" subtitle="Interactive essays, investigations, and ideas" />
          <div style={{ display: "flex", flexDirection: "column", gap: "20px" }}>
            {ARTICLES.map((article) => (
              <div key={article.id}
                onClick={() => setSelectedArticle(article.id)}
                style={{ border: "1px solid #333366", padding: "24px", cursor: "pointer", background: "#0f0f23", transition: "border-color 0.2s" }}
                onMouseEnter={e => e.currentTarget.style.borderColor = "#4a9aea"}
                onMouseLeave={e => e.currentTarget.style.borderColor = "#333366"}
              >
                <div style={{ display: "flex", justifyContent: "space-between", alignItems: "flex-start" }}>
                  <div>
                    <div style={{ fontFamily: "'VT323', monospace", fontSize: "12px", color: "#4a4a8a", letterSpacing: "2px", marginBottom: "6px" }}>
                      {article.category} {"\u00b7"} {article.readTime}
                      {article.interactive && <span style={{ color: "#e67e22" }}>{" \u00b7 \u26A1 Interactive"}</span>}
                    </div>
                    <h3 style={{ fontFamily: "'Special Elite', monospace", fontSize: "22px", color: "#e8e8d0", marginBottom: "4px" }}>{article.title}</h3>
                    <p style={{ fontFamily: "'Courier Prime', monospace", fontSize: "14px", color: "#888880", fontStyle: "italic" }}>{article.subtitle}</p>
                  </div>
                  <div style={{ fontFamily: "'VT323', monospace", fontSize: "14px", color: "#555560", whiteSpace: "nowrap", marginLeft: "20px" }}>
                    {new Date(article.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>
      );
    }

    function NovelPage({ selectedChapter, setSelectedChapter }) {
      const chapter = selectedChapter !== null ? NOVEL.chapters[selectedChapter] : null;

      if (chapter) {
        const prev = selectedChapter > 0 ? NOVEL.chapters[selectedChapter - 1] : null;
        const next = selectedChapter < NOVEL.chapters.length - 1 ? NOVEL.chapters[selectedChapter + 1] : null;

        return (
          <div>
            <button onClick={() => setSelectedChapter(null)}
              style={{ background: "none", border: "none", color: "#4a9aea", fontFamily: "'Courier Prime', monospace", fontSize: "14px", cursor: "pointer", marginBottom: "20px", padding: 0 }}
            >{"\u2190 Back to table of contents"}</button>

            <article style={{ border: "1px solid #333366", background: "#0f0f23", padding: "40px", maxWidth: "680px" }}>
              <div style={{ fontFamily: "'VT323', monospace", fontSize: "14px", color: "#4a4a8a", letterSpacing: "3px", textTransform: "uppercase", marginBottom: "8px" }}>Chapter {chapter.number}</div>
              <h2 style={{ fontFamily: "'Special Elite', monospace", fontSize: "36px", color: "#e8e8d0", marginBottom: "24px" }}>{chapter.title}</h2>
              <div style={{ width: "40px", height: "2px", background: "#e67e22", marginBottom: "28px" }} />

              {chapter.content.split("\n\n").map((para, i) => (
                <p key={i} style={{ fontSize: "16px", lineHeight: 2, color: "#c8c8b8", marginBottom: "22px", textIndent: i > 0 ? "2em" : "0", fontFamily: "'Lora', serif" }}>{para}</p>
              ))}
            </article>

            <div style={{ display: "flex", justifyContent: "space-between", marginTop: "24px", gap: "16px" }}>
              {prev ? (
                <button onClick={() => setSelectedChapter(selectedChapter - 1)}
                  style={{ background: "#0f0f23", border: "1px solid #333366", padding: "12px 20px", cursor: "pointer", textAlign: "left", flex: 1 }}
                  onMouseEnter={e => e.currentTarget.style.borderColor = "#e67e22"}
                  onMouseLeave={e => e.currentTarget.style.borderColor = "#333366"}
                >
                  <div style={{ fontFamily: "'VT323', monospace", fontSize: "12px", color: "#666680" }}>{"\u2190 Previous Chapter"}</div>
                  <div style={{ fontFamily: "'Special Elite', monospace", fontSize: "15px", color: "#e8e8d0", marginTop: "4px" }}>Ch. {prev.number}: {prev.title}</div>
                </button>
              ) : <div style={{ flex: 1 }} />}
              {next ? (
                <button onClick={() => setSelectedChapter(selectedChapter + 1)}
                  style={{ background: "#0f0f23", border: "1px solid #333366", padding: "12px 20px", cursor: "pointer", textAlign: "right", flex: 1 }}
                  onMouseEnter={e => e.currentTarget.style.borderColor = "#e67e22"}
                  onMouseLeave={e => e.currentTarget.style.borderColor = "#333366"}
                >
                  <div style={{ fontFamily: "'VT323', monospace", fontSize: "12px", color: "#666680" }}>{"\u2192 Next Chapter"}</div>
                  <div style={{ fontFamily: "'Special Elite', monospace", fontSize: "15px", color: "#e8e8d0", marginTop: "4px" }}>Ch. {next.number}: {next.title}</div>
                </button>
              ) : (
                <div style={{ flex: 1, border: "1px dashed #333366", padding: "12px 20px", textAlign: "right" }}>
                  <div style={{ fontFamily: "'VT323', monospace", fontSize: "14px", color: "#555560" }}>Next chapter coming soon...</div>
                </div>
              )}
            </div>
          </div>
        );
      }

      return (
        <div>
          <div style={{
            border: "2px solid #333366",
            background: "linear-gradient(180deg, #12122a 0%, #0f0f23 100%)",
            padding: "40px", textAlign: "center", marginBottom: "28px",
          }}>
            <div style={{ fontFamily: "'VT323', monospace", fontSize: "13px", color: "#4a4a8a", letterSpacing: "4px", textTransform: "uppercase", marginBottom: "12px" }}>{NOVEL.genre}</div>
            <h2 style={{ fontFamily: "'Special Elite', monospace", fontSize: "42px", color: "#e8e8d0", letterSpacing: "4px", textTransform: "uppercase", marginBottom: "8px" }}>{NOVEL.title}</h2>
            <div style={{ fontFamily: "'Courier Prime', monospace", fontSize: "14px", color: "#666680", marginBottom: "20px" }}>by {NOVEL.author}</div>
            <div style={{ maxWidth: "500px", margin: "0 auto", padding: "20px", borderTop: "1px solid #333366", borderBottom: "1px solid #333366" }}>
              <p style={{ fontFamily: "'Lora', serif", fontSize: "15px", fontStyle: "italic", color: "#a0a090", lineHeight: 1.7 }}>{NOVEL.synopsis}</p>
            </div>
          </div>

          <SectionHeader title="Chapters" subtitle="Updated weekly \u2014 click to read" />
          <div style={{ display: "flex", flexDirection: "column", gap: "12px" }}>
            {NOVEL.chapters.map((ch, i) => (
              <div key={ch.number}
                onClick={() => setSelectedChapter(i)}
                style={{
                  border: "1px solid #333366", padding: "20px 24px", cursor: "pointer",
                  background: "#0f0f23", display: "flex", alignItems: "center",
                  gap: "20px", transition: "all 0.2s",
                }}
                onMouseEnter={e => { e.currentTarget.style.borderColor = "#e67e22"; e.currentTarget.style.paddingLeft = "28px"; }}
                onMouseLeave={e => { e.currentTarget.style.borderColor = "#333366"; e.currentTarget.style.paddingLeft = "24px"; }}
              >
                <div style={{ fontFamily: "'VT323', monospace", fontSize: "28px", color: "#333366", width: "50px", textAlign: "center", flexShrink: 0 }}>
                  {String(ch.number).padStart(2, '0')}
                </div>
                <div>
                  <h3 style={{ fontFamily: "'Special Elite', monospace", fontSize: "20px", color: "#e8e8d0" }}>{ch.title}</h3>
                  <p style={{ fontFamily: "'Lora', serif", fontSize: "14px", color: "#888880", fontStyle: "italic", marginTop: "2px" }}>
                    {ch.content.substring(0, 100).trim()}...
                  </p>
                </div>
              </div>
            ))}
            <div style={{ border: "1px dashed #282848", padding: "20px 24px", display: "flex", alignItems: "center", gap: "20px", opacity: 0.5 }}>
              <div style={{ fontFamily: "'VT323', monospace", fontSize: "28px", color: "#282848", width: "50px", textAlign: "center" }}>04</div>
              <div>
                <h3 style={{ fontFamily: "'Special Elite', monospace", fontSize: "20px", color: "#555560" }}>???</h3>
                <p style={{ fontFamily: "'VT323', monospace", fontSize: "14px", color: "#444450" }}>Coming soon...</p>
              </div>
            </div>
          </div>
        </div>
      );
    }

    function AboutPage() {
      return (
        <div>
          <SectionHeader title="About" subtitle="The story behind the dispatch" />
          <div style={{ border: "1px solid #333366", background: "#0f0f23", padding: "32px", maxWidth: "680px" }}>
            <p style={{ fontSize: "16px", lineHeight: 1.9, color: "#c0c0b0", marginBottom: "20px" }}>
              <span style={{ fontFamily: "'Special Elite', monospace", fontSize: "42px", color: "#e67e22", float: "left", lineHeight: "36px", marginRight: "8px", marginTop: "4px" }}>T</span>
              {"he Pixel Dispatch started as a place to put things \u2014 apps I'd built, ideas I couldn't shake, a novel I was writing in the margins of my day job. I wanted something that felt like the web I grew up on: a place with personality, where you could wander around and stumble onto something interesting."}
            </p>
            <p style={{ fontSize: "16px", lineHeight: 1.9, color: "#c0c0b0", marginBottom: "20px" }}>
              {"This isn't a portfolio in the LinkedIn sense. It's more like a magazine rack in a coffee shop \u2014 some of it's polished, some of it's half-finished, all of it's mine. The apps have instructions because I think good tools deserve good manuals. The articles are interactive because reading should be an activity, not a consumption event. The novel is published here chapter by chapter because I believe in shipping before it's perfect."}
            </p>
            <p style={{ fontSize: "16px", lineHeight: 1.9, color: "#c0c0b0", marginBottom: "20px" }}>
              {"If you're looking for a clean portfolio site with a hero banner and a \u201clet's connect\u201d button, this isn't it. But if you want to spend a few minutes reading something weird, trying an app that might not exist tomorrow, or watching a story unfold in real time \u2014 pull up a chair."}
            </p>
            <div style={{ borderTop: "1px dashed #333366", marginTop: "28px", paddingTop: "20px" }}>
              <h3 style={{ fontFamily: "'Special Elite', monospace", fontSize: "18px", color: "#e67e22", letterSpacing: "2px", textTransform: "uppercase", marginBottom: "12px" }}>Colophon</h3>
              <div style={{ fontFamily: "'Courier Prime', monospace", fontSize: "14px", color: "#888880", lineHeight: 1.8 }}>
                <p>Built with: React, stubbornness, and too much coffee</p>
                <p>Fonts: Special Elite, Courier Prime, VT323, Lora</p>
                <p>Hosted on: A computer somewhere</p>
                <p>Last updated: February 2025</p>
                <p>Best experienced: Late at night, with headphones on</p>
              </div>
            </div>
          </div>
        </div>
      );
    }

    function Footer() {
      return (
        <footer style={{ borderTop: "2px solid #333366", padding: "24px 20px", textAlign: "center", background: "#0a0a1a", marginTop: "40px" }}>
          <div style={{ fontFamily: "'Special Elite', monospace", fontSize: "16px", color: "#555560", marginBottom: "8px" }}>{SITE_NAME}</div>
          <div style={{ fontFamily: "'VT323', monospace", fontSize: "14px", color: "#3a3a5a", letterSpacing: "1px" }}>
            {"\u00A9 2025 \u00b7 Made by hand \u00b7 No AI was used in the writing of the novel (the website is another story)"}
          </div>
          <div style={{ fontFamily: "'VT323', monospace", fontSize: "12px", color: "#2a2a4a", marginTop: "8px" }}>
            {"You are visitor #" + VISITOR_COUNT + " \u00b7 Thanks for stopping by"}
          </div>
        </footer>
      );
    }

    // --- MAIN APP ---
    function App() {
      const [currentPage, setCurrentPage] = useState("home");
      const [selectedApp, setSelectedApp] = useState(null);
      const [selectedArticle, setSelectedArticle] = useState(null);
      const [selectedChapter, setSelectedChapter] = useState(null);

      const setPage = useCallback((page) => {
        setCurrentPage(page);
        if (page !== "portfolio") setSelectedApp(null);
        if (page !== "articles") setSelectedArticle(null);
        if (page !== "novel") setSelectedChapter(null);
        window.scrollTo({ top: 0, behavior: "smooth" });
      }, []);

      const renderPage = () => {
        switch (currentPage) {
          case "home":
            return <HomePage setPage={setPage} setSelectedApp={setSelectedApp} setSelectedArticle={setSelectedArticle} setSelectedChapter={setSelectedChapter} />;
          case "portfolio":
            return <PortfolioPage selectedApp={selectedApp} setSelectedApp={setSelectedApp} />;
          case "articles":
            return <ArticlesPage selectedArticle={selectedArticle} setSelectedArticle={setSelectedArticle} />;
          case "novel":
            return <NovelPage selectedChapter={selectedChapter} setSelectedChapter={setSelectedChapter} />;
          case "about":
            return <AboutPage />;
          default:
            return <HomePage setPage={setPage} setSelectedApp={setSelectedApp} setSelectedArticle={setSelectedArticle} setSelectedChapter={setSelectedChapter} />;
        }
      };

      return (
        <div style={{
          maxWidth: "1100px", margin: "0 auto", minHeight: "100vh",
          display: "flex", flexDirection: "column",
          background: "#1a1a2e", boxShadow: "0 0 60px rgba(0,0,0,0.5)",
        }}>
          <Header currentPage={currentPage} setPage={setPage} />
          <div style={{ display: "flex", gap: "24px", padding: "24px 20px", flex: 1 }}>
            <main style={{ flex: 1, minWidth: 0 }}>
              {renderPage()}
            </main>
            <Sidebar />
          </div>
          <Footer />
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
